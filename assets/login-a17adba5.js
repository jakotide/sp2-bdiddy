import"./main-87429a99.js";import{A as i,a,b as l}from"./constants-88326297.js";const g=document.querySelectorAll(".login-toggle"),m=document.querySelector(".main-login");g.forEach(r=>{r.addEventListener("click",()=>{m.classList.toggle("active")})});const s=document.getElementById("signUpBtn"),d=document.querySelector(".main-login"),u=document.querySelector(".reg-error-message");async function f(r){const o=i+a;try{const e=await fetch(o,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(r)});if(e.ok){s.innerHTML='<span class="loader"></span>';const t=await e.json();console.log("Registration successful:",t),s.textContent="Success!",setTimeout(()=>{d.classList.toggle("active")},2e3)}else{const t=await e.json();console.error("Registration failed:",t),u.style.display="block"}}catch{}}function y(){document.querySelector(".register-form").addEventListener("submit",o=>{o.preventDefault();const e=o.target,t=new FormData(e),n=Object.fromEntries(t.entries());f(n)})}function c(r,o){localStorage.setItem(r,JSON.stringify(o))}const p=document.querySelector(".error-message");async function S(r){const o=i+l;try{const e=await fetch(o,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(r)});if(e.ok){const{accessToken:t,...n}=await e.json();c("token",t),c("User",n),window.location.href="/sp2-bdiddy/index"}else{const t=await e.json();console.error("Login failed:",t),p.style.display="Block"}}catch(e){console.error("An error occurred during login:",e)}}function L(){document.querySelector(".login-form").addEventListener("submit",o=>{o.preventDefault();const e=o.target,t=new FormData(e),n=Object.fromEntries(t.entries());S(n)})}y();L();
